---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Navbar from '../../components/Navbar';
import PostHub from '../../components/PostHub';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('posts');
const posts = allPosts.map(post => ({
  ...post.data,
  id: post.id,
  slug: post.slug,
}));

const title = "Post Archive";
---

<BaseLayout title={title}>
    <Navbar client:load />

    <div class="content-container pt-28 pb-20">
      <h1 class="text-4xl font-black uppercase tracking-tight mb-8 border-b-2 border-black pb-4">Archive</h1>
      
      <PostHub client:load initialPosts={posts} />
    </div>
</BaseLayout>